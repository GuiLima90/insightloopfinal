class PagesController < ApplicationController
  skip_before_action :authenticate_user!, only: [ :home ]

  def dashboard
    start_date = params[:start_date]&.to_date || Conversation.minimum(:occurred_on)
    end_date   = params[:end_date]&.to_date || Conversation.maximum(:occurred_on)

    @conversation_questions_count = Conversation
      .where(occurred_on: start_date..end_date)
      .count

    @conversation_complaints_count = Conversation
      .where(occurred_on: start_date..end_date)
      .count

    @conversation_insights_count = Conversation
      .where(occurred_on: start_date..end_date)
      .count
  end

  def home
  end

end
